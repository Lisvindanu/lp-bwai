<!-- Registration Modal -->
<div id="paymentModal" class="payment-modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closePaymentModal()">&times;</span>
        <h2 id="modalTitle" class="text-2xl font-bold mb-4 text-center"></h2>
        
        <!-- Step 1: Form -->
        <div id="registrationStep">
            <div class="mb-4">
                <label for="buyerName" class="block text-sm font-medium text-gray-700 mb-1">Nama Lengkap</label>
                <input type="text" id="buyerName" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Masukkan nama lengkap" required>
            </div>
            
            <div class="mb-4">
                <label for="buyerEmail" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input type="email" id="buyerEmail" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Masukkan email" required>
            </div>
            
            <div class="mb-4">
                <label for="buyerPhone" class="block text-sm font-medium text-gray-700 mb-1">Nomor WhatsApp</label>
                <input type="tel" id="buyerPhone" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Contoh: 08123456789" required>
            </div>
            
            <div class="mb-4" id="nimContainer">
                <label for="buyerNIM" class="block text-sm font-medium text-gray-700 mb-1">NIM (untuk mahasiswa UNPAS)</label>
                <input type="text" id="buyerNIM" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Masukkan NIM">
            </div>
            
            <button id="submitRegistrationBtn" class="w-full bg-google-blue hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-md transition duration-300">
                Lanjutkan ke Pembayaran
            </button>
        </div>
        
        <!-- Step 2: Payment -->
        <div id="paymentStep" style="display: none;">
            <p class="mb-3 text-center">Silakan lakukan pembayaran:</p>
            <div class="flex justify-center mb-3">
                <div class="bg-gray-100 rounded-lg py-2 px-4">
                    <p class="text-md text-center text-gray-700">Total Bayar</p>
                    <p id="modalPrice" class="text-2xl font-bold text-center google-blue"></p>
                </div>
            </div>
            
            <div class="bg-gray-50 p-3 rounded-lg mb-4">
                <p class="text-sm text-gray-700 mb-1">Detail Pembayaran:</p>
                <div class="flex justify-between mb-1">
                    <span class="text-sm text-gray-600">DANA</span>
                    <span class="text-sm font-medium">Lisvindanu</span>
                </div>
                <div class="flex justify-between mb-3">
                    <span class="text-sm text-gray-600">No. Dana</span>
                    <span class="text-sm font-medium">081234567890</span>
                </div>
                
                <div id="qrCodeContainer" class="flex justify-center my-3">
                    <!-- QR Code will be generated here -->
                </div>
                <p class="text-xs text-center text-gray-500 mt-1">Scan QR code diatas untuk pembayaran via DANA</p>
            </div>
            
            <div class="mb-4">
                <label for="paymentProof" class="block text-sm font-medium text-gray-700 mb-1">Upload Bukti Pembayaran</label>
                <input type="file" id="paymentProof" class="w-full px-3 py-2 border border-gray-300 rounded-md" accept="image/*">
                <p class="text-xs text-gray-500 mt-1">Format: JPG, PNG, atau PDF (max 5MB)</p>
            </div>
            
            <button id="confirmPaymentBtn" class="w-full bg-google-green hover:bg-green-600 text-white font-bold py-3 px-4 rounded-md transition duration-300">
                Konfirmasi Pembayaran
            </button>
            
            <button id="backToFormBtn" class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-4 rounded-md transition duration-300 mt-2">
                Kembali
            </button>
            
            <p class="text-xs text-center text-gray-500 mt-3">Pembayaran akan diverifikasi dalam 1x24 jam kerja.</p>
        </div>
        
        <!-- Step 3: Success -->
        <div id="successStep" style="display: none;">
            <div class="text-center">
                <div class="w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4">
                    <svg class="w-8 h-8 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold mb-2">Pendaftaran Berhasil!</h3>
                <p class="text-gray-600 mb-4">Terima kasih atas pendaftaran Anda. Bukti pembayaran telah diterima dan sedang diverifikasi.</p>
                <p class="text-gray-600 mb-4">Mohon cek email Anda untuk informasi selanjutnya.</p>
                <button id="closeSuccessBtn" class="bg-google-blue hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-md transition duration-300">
                    Selesai
                </button>
            </div>
        </div>
    </div>
</div>